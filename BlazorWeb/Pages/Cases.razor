@page "/cases"
@inject HttpClient Http





@if (cases == null)
{
   <div class="spinner"></div>
}
else
{
<div class="container m-2 p-2 bg-dark justify-content-center">
    <h1 class="text-white-50">Cases</h1>
    <table class="table table-bordered table-dark table-striped">
        <tbody>

            <tr>
                <th width="4%">Id</th>
                <th width="15%">Clients Name</th>
                <th width="17%">Created</th>
                <th width="10%">Status</th>
                <th width="41%">Description</th>
                <th width="10%"></th>
            </tr>

            @foreach (var x in cases)
            {
        <tr>
            <td width="4%">@x.Id</td>
            <td width="15%">@x.Client.FullName</td>
            <td width="17%">@x.Created</td>
            <td width="10%">@x.StatusCode</td>
            <td width="41%">@x.Descrip</td>
            <td width="10%"><buttom class="btn btn-primary">Edit</buttom></td>
            
        </tr>

            }
        </tbody>
    </table>
</div>
    
}

@code {
    private Case[] cases;
    private HttpResponseMessage result;


    protected override async Task OnInitializedAsync()
    {
        try
        {
            cases = await Http.GetFromJsonAsync<Case[]>("https://localhost:44350/api/cases");
        }
        catch { }


    }


}
