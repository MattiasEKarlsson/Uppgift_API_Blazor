@page "/addclient"
@inject HttpClient Http
@inject NavigationManager NavManager



<div class="container">
    <h3>Add Client</h3>
    <hr />
    <EditForm Model="@client" OnSubmit="@CreateClientAsync">
        <div class="form-group w-25">
            <span>FirstName</span>
            <input type="text" class="form-control" @bind="client.FirstName" required />
        </div>
        <div class="form-group w-25">
            <span>LastName</span>
            <input type="text" class="form-control" @bind="client.LastName" required />
        </div>
        <div class="form-group w-25">
            <span>PhoneNumber</span>
            <input type="number" class="form-control" @bind="client.Phone" required />
        </div>
        <div class="form-group w-25">
            <button type="submit" class="btn btn-primary oi oi-plus w-50 h-50"></button>
        </div>
    </EditForm>
</div>



@code {
    private Client client;

    private async Task CreateClientAsync()
    {
        try
        {
            await Http.PostAsJsonAsync<Client>("https://localhost:44350/api/clients", client);
            NavManager.NavigateTo("/client");
        }
        catch { }

    }

    protected override void OnInitialized()
    {
        client = new Client();
    }
}
